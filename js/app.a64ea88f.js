(function(e){function t(t){for(var r,i,s=t[0],c=t[1],u=t[2],m=0,h=[];m<s.length;m++)i=s[m],Object.prototype.hasOwnProperty.call(o,i)&&o[i]&&h.push(o[i][0]),o[i]=0;for(r in c)Object.prototype.hasOwnProperty.call(c,r)&&(e[r]=c[r]);l&&l(t);while(h.length)h.shift()();return a.push.apply(a,u||[]),n()}function n(){for(var e,t=0;t<a.length;t++){for(var n=a[t],r=!0,s=1;s<n.length;s++){var c=n[s];0!==o[c]&&(r=!1)}r&&(a.splice(t--,1),e=i(i.s=n[0]))}return e}var r={},o={app:0},a=[];function i(t){if(r[t])return r[t].exports;var n=r[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,i),n.l=!0,n.exports}i.m=e,i.c=r,i.d=function(e,t,n){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},i.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)i.d(n,r,function(t){return e[t]}.bind(null,r));return n},i.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="/the_f2e_hotel/";var s=window["webpackJsonp"]=window["webpackJsonp"]||[],c=s.push.bind(s);s.push=t,s=s.slice();for(var u=0;u<s.length;u++)t(s[u]);var l=c;a.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"17be":function(e,t,n){"use strict";var r=n("8918"),o=n.n(r);o.a},"1d74":function(e,t,n){},"300c":function(e,t,n){"use strict";var r=n("56d4"),o=n.n(r);o.a},4151:function(e,t,n){"use strict";var r=n("9ea0"),o=n.n(r);o.a},"56d4":function(e,t,n){},"56d7":function(e,t,n){"use strict";n.r(t);n("b0c0"),n("e260"),n("e6cf"),n("cca6"),n("a79d");var r=n("2b0e"),o=n("9062"),a=n.n(o),i=(n("e40d"),n("bc3a")),s=n.n(i),c=n("a7fe"),u=n.n(c),l=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("router-view")},m=[],h=(n("5c0b"),n("2877")),f={},g=Object(h["a"])(f,l,m,!1,null,null,null),v=g.exports,d=n("8c4f"),p=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"app"}},[n("transition-group",{attrs:{name:"roomImg"}},e._l(e.getPreImg,(function(t){return n("img",{directives:[{name:"show",rawName:"v-show",value:t.name===e.menuName,expression:"item.name === menuName"}],key:t.name,attrs:{src:t.imageUrl,alt:""}})})),0),n("div",{staticClass:"logo"}),n("div",{staticClass:"roomTitle"},[n("h2",[e._v(e._s(e._f("roomNumberDis")(e.menuKey)))]),n("h3",[e._v(e._s(e.menuName))])]),n("div",{staticClass:"right"},[n("ul",{staticClass:"navbar"},e._l(e.getRooms,(function(t,r){return n("li",{key:r,on:{mouseenter:function(){e.menuName=t.name,e.menuKey=r}}},[n("a",{attrs:{href:"#"},on:{click:function(n){return n.preventDefault(),e.changeInfoPage(t.name)}}},[e._v(e._s(t.name))])])})),0),e._m(0)])],1)},b=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("ul",{staticClass:"footer"},[n("li",{staticClass:"share"},[n("a",{attrs:{id:"fbIcon",href:"#"}}),n("a",{attrs:{id:"igIcon",href:"#"}})]),n("li",{staticClass:"phone"},[n("i",{attrs:{id:"phoneIcon"}}),e._v(" 02-17264937 ")]),n("li",{staticClass:"email"},[n("i",{attrs:{id:"emailIcon"}}),e._v(" whitespace@whitespace.com.tw ")]),n("li",{staticClass:"address"},[n("i",{attrs:{id:"addressIcon"}}),e._v(" 台北市羅斯福路十段30號 ")])])}],_={name:"preview",data:function(){return{menuName:"Deluxe Double Room",menuKey:0,loading:!1}},methods:{changeInfoPage:function(e){this.$store.commit("enterInfo",e),this.$router.push("information")}},computed:{getRooms:function(){return!!this.$store.state.allRooms&&this.$store.state.allRooms.items},getPreImg:function(){return!!this.$store.state.preImgArr&&this.$store.state.preImgArr}},filters:{roomNumberDis:function(e){return"0".concat(String(e+1))}},created:function(){var e=this.$loading.show();setTimeout((function(){e.hide()}),1e3)}},k=_,w=(n("300c"),Object(h["a"])(k,p,b,!1,null,"823accf8",null)),I=w.exports,D=function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.getOb?n("div",{attrs:{id:"app"}},[n("div",{staticClass:"imgWrap",on:{click:function(t){return t.preventDefault(),e.$router.push("/information/imgbox")}}},[n("a",{staticClass:"logo",attrs:{href:"#"},on:{click:function(t){return t.preventDefault(),e.$router.push("preview")}}}),e._l(e.getOb.imageUrl,(function(e,t){return n("img",{key:t,attrs:{src:e}})}))],2),n("ul",{staticClass:"infoL"},[n("li",{staticClass:"title"},[e._v(e._s(e.getOb.name))]),n("li",[e._v("房間人數限制："+e._s(e.getOb.descriptionShort.GuestMin)+"~ "+e._s(e.getOb.descriptionShort.GuestMax)+" 人")]),n("li",[e._v("床型："+e._s(e._f("bed")(e.getOb.descriptionShort.Bed)))]),n("li",[e._v("衛浴數量："+e._s(e.getOb.descriptionShort["Private-Bath"])+" 間")]),n("li",[e._v("房間大小:"+e._s(e.getOb.descriptionShort.Footage)+" 平方公尺")]),n("li",{staticClass:"desc"},[e._v(e._s(e.getOb.description))]),n("li",{staticClass:"br"},[e._v("﹨﹨﹨")]),n("li",{staticClass:"checkin"},[n("h4",[e._v("Check in")]),e._v(" "+e._s(e.getOb.checkInAndOut.checkInEarly)+" － "+e._s(e.getOb.checkInAndOut.checkInLate)+" ")]),n("li",{staticClass:"checkout"},[n("h4",[e._v("Check Out")]),e._v(" "+e._s(e.getOb.checkInAndOut.checkOut)+" ")])]),n("ul",{staticClass:"infoR"},[n("li",[e._v("NT."+e._s(e.getOb.normalDayPrice))]),n("li",[e._v("平日(一~四)")]),n("li",[e._v("NT."+e._s(e.getOb.holidayPrice))]),n("li",[e._v("假日(五~日)")])]),n("table",{staticClass:"iconWrap"},[n("tr",[n("td",{class:{no:!e.getOb.amenities["Wi-Fi"]}},[n("i",{attrs:{id:"wifiIcon"}}),e._v("Wi-Fi")]),n("td",{class:{no:!e.getOb.amenities["Television"]}},[n("i",{attrs:{id:"phoneIcon"}}),e._v("電話")]),n("td",{class:{no:!e.getOb.amenities["Great-View"]}},[n("i",{attrs:{id:"viewIcon"}}),e._v("漂亮的視野")])]),n("tr",[n("td",{class:{no:!e.getOb.amenities.Breakfast}},[n("i",{attrs:{id:"breakIcon"}}),e._v("早餐")]),n("td",{class:{no:!e.getOb.amenities["Air-Conditioner"]}},[n("i",{attrs:{id:"airconIcon"}}),e._v("空調")]),n("td",{class:{no:e.getOb.amenities["Smoke-Free"]}},[n("i",{attrs:{id:"smokeIcon"}}),e._v("禁止吸煙")])]),n("tr",[n("td",{class:{no:!e.getOb.amenities["Mini-Bar"]}},[n("i",{attrs:{id:"minibarIcon"}}),e._v("Mini Bar")]),n("td",{class:{no:!e.getOb.amenities.Refrigerator}},[n("i",{attrs:{id:"refIcon"}}),e._v("冰箱")]),n("td",{class:{no:!e.getOb.amenities["Child-Friendly"]}},[n("i",{attrs:{id:"childIcon"}}),e._v("適合兒童")])]),n("tr",[n("td",{class:{no:!e.getOb.amenities["Room-Service"]}},[n("i",{attrs:{id:"serviceIcon"}}),e._v(" Room Service ")]),n("td",{class:{no:!e.getOb.amenities.Sofa}},[n("i",{attrs:{id:"sofaIcon"}}),e._v("沙發")]),n("td",{class:{no:!e.getOb.amenities["Pet-Friendly"]}},[n("i",{attrs:{id:"petIcon"}}),e._v("寵物攜帶")])])]),n("div",{staticClass:"calendar"},[n("HotelDatePicker",{attrs:{format:"DD/MM/YYYY",i18n:e.messages,maxNights:10,startDate:e.tomorrow,endDate:e.endDate,disabledDates:e.getBooking,enableCheckout:!0}})],1),n("button",{on:{click:function(t){return t.preventDefault(),e.reservation(t)}}},[e._v("預約時段")]),n("button",{staticClass:"clearbtn",on:{click:function(t){return t.preventDefault(),e.clearAPI(t)}}},[e._v("清除API")]),n("router-view")],1):e._e()},O=[],y=(n("99af"),n("d81d"),n("549f")),$=n.n(y),C={name:"information",data:function(){return{messages:{"day-names":["日","一","二","三","四","五","六"],"month-names":["1","2","3","4","5","6","7","8","9","10","11","12"],night:"Night",nights:"Nights"}}},components:{HotelDatePicker:$.a},mounted:function(){var e=this.$loading.show();setTimeout((function(){e.hide()}),1e3)},computed:{getOb:function(){return!!this.$store.getters.infoOb&&this.$store.getters.infoOb.room[0]},tomorrow:function(){var e=new Date;return new Date(e.getTime()+864e5)},endDate:function(){var e=new Date;return new Date(e.getTime()+7776e6)},getBooking:function(){return!!this.$store.getters.infoOb&&this.$store.getters.infoOb.booking.map((function(e){return e.date}))}},filters:{bed:function(e){if(1===e.length)switch(e[0]){case"Single":return"單人床";case"Small Double":return"小雙人床";case"Double":return"雙人床";case"Queen":return"加大雙人床";default:return!1}else switch(e[1]){case"Double":return"單人床x2";case"Queen":return"雙人床x2";default:return!1}}},methods:{clearAPI:function(){this.axios.delete("https://challenge.thef2e.com/api/thef2e2019/stage6/rooms",this.$store.state.config).then((function(e){alert("已清除！"),console.log(e)})).catch((function(e){console.log(e)}))},reservation:function(){if(console.log(this.$children[0]),this.$children[0].checkIn&&this.$children[0].checkOut){for(var e=new Date(this.$children[0].checkIn),t=this.converter(e),n=new Date(this.$children[0].checkOut),r=this.converter(n),o=(n-e)/864e5,a=[],i=0,s=0,c=0;c<o;c+=1)a.push(this.converter(e.getTime()+864e5*c)),"holiday"===this.checkholiday(e.getTime()+864e5*c)?i+=1:s+=1;var u=this.getOb.normalDayPrice*s+this.getOb.holidayPrice*i;this.$store.commit("putCheckDate",{checkIn:t,checkOut:r,nightArr:a,holiday:i,weekday:s,total:u}),this.$router.push("information/validate")}else alert("請填寫正確日期")},converter:function(e){var t=new Date(e),n=t.getMonth()+1<10?"0".concat(String(t.getMonth()+1)):t.getMonth()+1,r=t.getDate()<10?"0".concat(String(t.getDate())):t.getDate();return"".concat(t.getFullYear(),"-").concat(n,"-").concat(r)},checkholiday:function(e){var t=new Date(e);return 0===t.getDay()||6===t.getDay()?"holiday":"weekday"}}},A=C,x=(n("4151"),Object(h["a"])(A,D,O,!1,null,"030be100",null)),P=x.exports,R=function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.getImg?n("div",{staticClass:"imgbox",on:{touchmove:function(e){e.preventDefault()},mousewheel:function(e){e.preventDefault()},click:function(t){return t.target!==t.currentTarget?null:e.goback(t)}}},[n("i",{staticClass:"arrowL",on:{click:function(t){return e.changeImg(-1)}}},[e._v("<")]),n("transition-group",{attrs:{name:"fade"}},e._l(e.getImg.imageUrl,(function(t,r){return n("img",{directives:[{name:"show",rawName:"v-show",value:r===e.nowImg,expression:"index === nowImg"}],key:t,attrs:{src:t}})})),0),n("i",{staticClass:"arrowR",on:{click:function(t){return e.changeImg(1)}}},[e._v(">")]),n("h3",[e._v(e._s(e.getImg.name))]),n("p",{staticClass:"page"},[e._v(e._s(e.nowImg+1)+" / "+e._s(e.getImg.imageUrl.length))])],1):e._e()},S=[],N={name:"imgbox",data:function(){return{nowImg:0}},computed:{getImg:function(){return!!this.$store.getters.infoOb&&this.$store.getters.infoOb.room[0]}},methods:{changeImg:function(e){2===this.nowImg&&1===e?this.nowImg=0:0===this.nowImg&&-1===e?this.nowImg=2:this.nowImg+=e},goback:function(){this.$router.back()}}},j=N,T=(n("88bc"),Object(h["a"])(j,R,S,!1,null,"225b8598",null)),U=T.exports,M=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"validateBox",on:{touchmove:function(e){e.preventDefault()},mousewheel:function(e){e.preventDefault()}}},[n("form",{attrs:{action:""}},[n("h2",[e._v("預約時段")]),n("p",[e._v("﹨﹨﹨")]),n("label",{staticClass:"name"},[n("p",[e._v("姓名")]),n("input",{directives:[{name:"model",rawName:"v-model",value:e.customerData.name,expression:"customerData.name"}],attrs:{type:"text"},domProps:{value:e.customerData.name},on:{input:function(t){t.target.composing||e.$set(e.customerData,"name",t.target.value)}}})]),n("label",{staticClass:"phone"},[n("p",[e._v("電話")]),n("input",{directives:[{name:"model",rawName:"v-model",value:e.customerData.tel,expression:"customerData.tel"}],attrs:{type:"text"},domProps:{value:e.customerData.tel},on:{input:function(t){t.target.composing||e.$set(e.customerData,"tel",t.target.value)}}})]),n("label",{staticClass:"checkInOut"},[n("p",[e._v("預約起迄")]),n("input",{attrs:{type:"text",readonly:""},domProps:{value:this.$store.state.reservation.checkIn}}),e._v(" ~ "),n("input",{attrs:{type:"text",readonly:""},domProps:{value:this.$store.state.reservation.checkOut}})]),n("ul",{staticClass:"receipt"},[0!==this.$store.state.reservation.weekday?n("li",[e._v(" 平日時段 "),n("span",[e._v(e._s(this.$store.state.reservation.weekday)+"夜")])]):e._e(),0!==this.$store.state.reservation.holiday?n("li",[e._v(" 假日時段 "),n("span",[e._v(e._s(this.$store.state.reservation.holiday)+"夜")])]):e._e()]),n("h3",{staticClass:"total"},[e._v("= NT."+e._s(this.$store.state.reservation.total))]),n("button",{staticClass:"reset",on:{click:function(t){return t.preventDefault(),e.goback(t)}}},[e._v("取消")]),n("button",{on:{click:function(t){return t.preventDefault(),e.booking(t)}}},[e._v("確定預約")])])])},B=[],E={name:"validate",data:function(){return{customerData:{name:"",tel:""}}},methods:{goback:function(){this.$router.back()},booking:function(){var e=this;if(this.customerData.name&&this.customerData.tel){var t={name:this.customerData.name,tel:this.customerData.tel,date:this.$store.state.reservation.nightArr};this.axios.post("https://challenge.thef2e.com/api/thef2e2019/stage6/room/".concat(this.$store.getters.infoOb.room[0].id),t,this.$store.state.config).then((function(){e.$router.push("/information/success")})).catch((function(t){console.log(t),e.$router.push("/information/error")}))}else alert("請輸入正確")}}},F=E,Y=(n("17be"),Object(h["a"])(F,M,B,!1,null,"4475fe4a",null)),G=Y.exports,J=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"success",on:{touchmove:function(e){e.preventDefault()},mousewheel:function(e){e.preventDefault()}}},[n("div",{staticClass:"wrap"},[n("h2",[e._v("預約成功")]),n("p",[e._v("﹨﹨﹨")]),n("i"),n("button",{on:{click:function(t){return t.preventDefault(),e.goInfo(t)}}},[e._v("回頁面")])])])},K=[],L={name:"success",data:function(){return{}},methods:{goInfo:function(){this.$router.push("/information")}}},W=L,H=(n("ccce"),Object(h["a"])(W,J,K,!1,null,"38cf2676",null)),V=H.exports,Q=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"error",on:{touchmove:function(e){e.preventDefault()},mousewheel:function(e){e.preventDefault()}}},[n("div",{staticClass:"wrap"},[n("h2",[e._v("預約失敗")]),n("p",[e._v("﹨﹨﹨")]),n("h4",[e._v("預約時間已被人預訂")]),n("button",{on:{click:function(t){return t.preventDefault(),e.goInfo(t)}}},[e._v("返回")])])])},z=[],X={name:"error",data:function(){return{}},methods:{goInfo:function(){this.$router.push("/information")}}},q=X,Z=(n("88ec"),Object(h["a"])(q,Q,z,!1,null,"dfc07184",null)),ee=Z.exports;r["a"].use(d["a"]);var te=[{path:"*",redirect:I},{path:"/",name:"preview",component:I},{path:"/information",name:"information",component:P,children:[{path:"/information/imgbox",name:"imgbox",component:U},{path:"/information/validate",name:"validate",component:G},{path:"/information/success",name:"success",component:V},{path:"/information/error",name:"error",component:ee}]}],ne=new d["a"]({routes:te}),re=ne,oe=(n("4de4"),n("d3b7"),n("2f62"));r["a"].use(oe["a"]);var ae=new oe["a"].Store({state:{allRooms:{},roomsArr:[],infoPage:"Single Room",preImgArr:[],config:{headers:{Authorization:"Bearer o1UGgT6xKbsPCeVMY8paFJfCpNH3I6V1RyLgDpJvYn9CODijNUADOBXwys",accept:"application/json"}},reservation:{checkIn:"",checkOut:"",nightArr:[],holiday:0,weekday:0,total:0}},mutations:{putAllRooms:function(e,t){e.allRooms=t},putRooms:function(e,t){e.roomsArr=t},enterInfo:function(e,t){e.infoPage=t},putPreImg:function(e){for(var t=0;t<e.roomsArr.length;t+=1)switch(e.roomsArr[t].room[0].name){case"Single Room":e.preImgArr.push({imageUrl:e.roomsArr[t].room[0].imageUrl[2],name:e.roomsArr[t].room[0].name});break;case"Deluxe Single Room":e.preImgArr.push({imageUrl:e.roomsArr[t].room[0].imageUrl[2],name:e.roomsArr[t].room[0].name});break;case"Double Room":e.preImgArr.push({imageUrl:e.roomsArr[t].room[0].imageUrl[1],name:e.roomsArr[t].room[0].name});break;case"Deluxe Double Room":e.preImgArr.push({imageUrl:e.roomsArr[t].room[0].imageUrl[1],name:e.roomsArr[t].room[0].name});break;case"Twin Room":e.preImgArr.push({imageUrl:e.roomsArr[t].room[0].imageUrl[0],name:e.roomsArr[t].room[0].name});break;case"Deluxe Twin Room":e.preImgArr.push({imageUrl:e.roomsArr[t].room[0].imageUrl[0],name:e.roomsArr[t].room[0].name});break;default:break}},putCheckDate:function(e,t){e.reservation.checkIn=t.checkIn,e.reservation.checkOut=t.checkOut,e.reservation.nightArr=t.nightArr,e.reservation.holiday=t.holiday,e.reservation.weekday=t.weekday,e.reservation.total=t.total}},getters:{infoOb:function(e){if(0===e.roomsArr.length)return!1;var t=e.roomsArr.filter((function(t){return e.infoPage===t.room[0].name}));return t[0]}},actions:{getAPI:function(e){var t=e.commit,n=e.state;new Promise((function(e){r["a"].axios.get("https://challenge.thef2e.com/api/thef2e2019/stage6/rooms",n.config).then((function(n){t("putAllRooms",n.data),e()}))})).then((function(){for(var e=[],o=0;o<n.allRooms.items.length;o+=1)r["a"].axios.get("https://challenge.thef2e.com/api/thef2e2019/stage6/room/".concat(n.allRooms.items[o].id),n.config).then((function(r){e.push(r.data),e.length===n.allRooms.items.length&&(e.sort((function(e,t){return e.room[0].holidayPrice-t.room[0].holidayPrice})),t("putRooms",e),t("putPreImg"))}))}))}}});r["a"].config.productionTip=!1,r["a"].use(u.a,s.a),r["a"].use(a.a,{height:80,width:80}),re.beforeEach((function(e,t,n){"success"!==e.name&&"error"!==e.name||"validate"===t.name||re.push("preview"),n()})),new r["a"]({router:re,store:ae,render:function(e){return e(v)},created:function(){this.$store.dispatch("getAPI")}}).$mount("#app")},"5c0b":function(e,t,n){"use strict";var r=n("9c0c"),o=n.n(r);o.a},"74b4":function(e,t,n){},"88bc":function(e,t,n){"use strict";var r=n("74b4"),o=n.n(r);o.a},"88ec":function(e,t,n){"use strict";var r=n("1d74"),o=n.n(r);o.a},8918:function(e,t,n){},"9c0c":function(e,t,n){},"9ea0":function(e,t,n){},b134:function(e,t,n){},ccce:function(e,t,n){"use strict";var r=n("b134"),o=n.n(r);o.a}});
//# sourceMappingURL=app.a64ea88f.js.map